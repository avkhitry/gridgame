<!DOCTYPE html>
<html>
<head>
    <title>Canvas Grid Game</title>
    <style>
        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
        }
        canvas {
            border: 1px solid nocolor;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>
    <div>
        <button id="modeButton">Grid</button>
    </div>
    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const symbols = [
            "\u2712\uFE0E", // Pen
            "\u1F576\uDFB5\uFE0E", // Glasses (Note: This might still render as emoji)
            "\u2602\uFE0E", // Umbrella
            "\u2615\uFE0E", // Cup
            "üéß\uFE0E", // Harmonica (using a musical note)
            "\u265F\uFE0E", // Chess piece
            "\u231A\uFE0E", // Watch
            "\u27B0\uFE0E", // Rope (using a knot symbol)
            "\u260E\uFE0E", // Telephone (Note: This might still render as emoji)
            "üåê\uFE0E" // Sphere (using a blue circle, might render as emoji)
        ];
        //const symbols = ["\u265F", "\u265E", "\u265D", "\u265C", "\u265B", "\u265A", "\u2659", "\u2658", "\u2657", "\u2656"];
        const colors = ["Red", "Orange", "Yellow", "Green", "Blue", "Deep Blue", "Violet", "Black", "White", "Translucent"];
        const colorValues = ['#ffcccc', '#ffe5cc', '#ffffcc', '#ccffcc', '#ccccff', '#9999ff', '#f2ccff', '#cccccc', '#f2f2f2', '#ffe6f0'];
        const colorValuesTxt = ['#FF0000', '#FF8C00', '#FFD700', '#008000', '#87CEEB', '#4682B4', '#663399', '#cccccc', '#f2f2f2', '#ffe6f0'];
        let gridMode = 0;
        let cellSize;
        let tapCount = 0;
        let selectedCell = null;
        let message = '';
        
        const columnColors = [
            "#ffcccc", // Pale red
            "#ffe5cc", // Pale orange
            "#ffffcc", // Pale yellow
            "#ccffcc", // Pale green
            "#ccccff", // Pale light blue
            "#9999ff", // Pale deep blue
            "#f2ccff", // Pale violet
            "#cccccc", // Grey (pale black)
            "#f2f2f2", // Pale white
            "#ffe6f0"  // Pale pink (for transparent)
        ];

        function resizeCanvas() {
            minDim = Math.min(window.innerWidth, window.innerHeight);
            canvas.width = minDim * 0.8;
            canvas.height = minDim * 0.8;
            cellSize = Math.min(canvas.width, canvas.height) / 10;
            drawGrid();
        }
        
        function drawGrid() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw colored cells for mode 1
            for (let col = 0; col < 10; col++) {
                for (let row = 0; row < 10; row++) {
                    ctx.fillStyle = getCellColor(col);
                    ctx.fillRect(col * cellSize, row * cellSize, cellSize, cellSize);
                }
            }

            // Draw grid lines
            for (let i = 0; i <= 10; i++) {
                ctx.beginPath();
                ctx.moveTo(i * cellSize, 0);
                ctx.lineTo(i * cellSize, canvas.height);
                ctx.moveTo(0, i * cellSize);
                ctx.lineTo(canvas.width, i * cellSize);
                ctx.strokeStyle = shouldDrawLine(i) ? 'black' : 'transparent';
                ctx.stroke();
            }
            // font size settings
            ctx.font = (cellSize * 0.5) + 'px Arial'; // Set a larger font size for symbols

            // Draw symbols for modes 0 and 1
            if (tapCount === 0) {
                ctx.fillStyle = 'black'; // Color for the symbols
                for (let i = 0; i < 10; i++) {
                    ctx.fillText(symbols[i], cellSize * 0.5, (9.5 - i) * cellSize);
                }
            }

            // Highlight selected cell if exists
            if (selectedCell && tapCount == 1) {
                ctx.fillStyle = 'rgba(255, 255, 0, 0.7)'; // Yellow highlight
                ctx.fillRect(selectedCell.col * cellSize, selectedCell.row * cellSize, cellSize, cellSize);
            }
            // Highlight selected cell and draw symbol if exists
            if (selectedCell && tapCount > 1) {
                ctx.fillStyle = 'rgba(107, 107, 107, 0.9)'; // dark grey background so all is visible
                ctx.fillRect(selectedCell.col * cellSize, selectedCell.row * cellSize, cellSize, cellSize);
                
                ctx.fillStyle = colorValuesTxt[selectedCell.col];
                ctx.fillText(symbols[9 - selectedCell.row], selectedCell.col * cellSize + 0.2 * cellSize , (selectedCell.row + 1) * cellSize - 0.2 * cellSize);
                // here to be fillRect for white and transparent cases
            }
        }

        function getCellColor(col) {
            if (gridMode !== 1) return 'transparent';
            return colorValues[col];
        }

        function shouldDrawLine(i) {
            if (gridMode === 0) return true;
            if (gridMode === 1) return true;
            if (gridMode === 2) return (i === 0 || i === 10);
            if (gridMode === 3) return (i === 0 || i === 10 || i === 5);
        }

        function handleCanvasClick() {
            tapCount++;
            if (tapCount === 1) {
                // Randomly select a cell
                const row = Math.floor(Math.random() * 10);
                const col = Math.floor(Math.random() * 10);
                selectedCell = { row, col };
                message = '';
            } else if (tapCount === 2 && selectedCell) {
                // Display message
                const colorName = colors[selectedCell.col];
                const symbolName = symbols[9 - selectedCell.row];
                // message = `Selected: ${colorName} ${symbolName}`;
            } else {
                // Reset
                tapCount = 0;
                selectedCell = null;
                message = '';
            }
            drawGrid();
        }

        document.getElementById('modeButton').addEventListener('click', () => {
            gridMode = (gridMode + 1) % 4;
            drawGrid();
        });

        canvas.addEventListener('click', handleCanvasClick);
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas(); // Initial resize and draw
    </script>
</body>
</html>
